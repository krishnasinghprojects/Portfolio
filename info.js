const details = {
    // Title Details
    titleTop: "Krishna's Portfolio",

    // Navbar Details
    navbar: {
        navbar_name: "Krishna Singh",
        name_abbrivation: "KS",
        resume: {
            text: "Resume",
            url: "https://drive.google.com/file/d/11jxzIugquY2VEaXx7q4kysZuBjye1JV4/view",
        },
    },

    // About Details
    about: {
        greeting: "Hi, I'm Krishna Singh",
        title: "Web Developer & Designer",
        description:
            "Engineering student who loves combining coding and design. Skilled in Front-End Development with HTML, CSS, JavaScript, ReactJS also experienced with programming languages C, Python, Java and TypeScript.",
        downloadCV: {
            text: "Download CV",
            url: "https://drive.google.com/file/d/11jxzIugquY2VEaXx7q4kysZuBjye1JV4/view",
        },
    },
    // Project Details
    projects: [
        {
            name: "Portfolio",
            url: "https://krishnasinghprojects.github.io/Portfolio/",
            imgSrc: "Project Images/PortfolioSS.jpg",
            imgAlt: "Portfolio Project",
            tech: [
                { imgSrc: "https://img.icons8.com/?size=100&id=20909&format=png&color=000000", alt: "HTML" },
                { imgSrc: "https://img.icons8.com/?size=100&id=21278&format=png&color=000000", alt: "CSS" },
                { imgSrc: "https://img.icons8.com/?size=100&id=108784&format=png&color=000000", alt: "JavaScript" },
            ],
            description:
                "Portfolio showcases my projects, skills, and achievements in a clean, responsive design. It includes project previews, tech stacks, and an organized layout that adapts across devices."
        },
        
        {
            name: "Academic Archive",
            url: "https://krishnasinghprojects.github.io/AcademicArchive/",
            imgSrc: "Project Images/AcademicArchiveSS.jpg",
            imgAlt: "Academic Archive Project",
            tech: [
                { imgSrc: "https://img.icons8.com/?size=100&id=20909&format=png&color=000000", alt: "HTML" },
                { imgSrc: "https://img.icons8.com/?size=100&id=21278&format=png&color=000000", alt: "CSS" },
                { imgSrc: "https://img.icons8.com/?size=100&id=108784&format=png&color=000000", alt: "JavaScript" },
            ],
            description:
                "Academic Archive helps users organize and access educational files like notes, PDFs, images, and code. It offers folder pinning, dark mode, and an intuitive folder interface for easy resource management."
        },
    ],
    certificates: [
        {
            imgSrc: "Certifications/Certificate1.jpeg",
            imgAlt: "Certificate 1",
        },
        {
            imgSrc: "Certifications/Certificate2.jpg",
            imgAlt: "Certificate 2",
        },
        {
            imgSrc: "Certifications/Certificate3.jpg",
            imgAlt: "Certificate 3",
        },
        {
            imgSrc: "Certifications/Certificate4.jpg",
            imgAlt: "Certificate 4",
        },
        {
            imgSrc: "Certifications/Certificate5.jpg",
            imgAlt: "Certificate 5",
        },
        {
            imgSrc: "Certifications/Certificate6.jpg",
            imgAlt: "Certificate 6",
        },
        {
            imgSrc: "Certifications/Certificate7.png",
            imgAlt: "Certificate 7",
        },
        {
            imgSrc: "Certifications/Certificate8.png",
            imgAlt: "Certificate 8",
        },
        {
            imgSrc: "Certifications/Certificate9.jpg",
            imgAlt: "Certificate 9",
        },
        {
            imgSrc: "Certifications/Certificate10.png",
            imgAlt: "Certificate 10",
        },
        {
            imgSrc: "Certifications/Certificate11.png",
            imgAlt: "Certificate 11",
        },
        {
            imgSrc: "Certifications/Certificate12.jpg",
            imgAlt: "Certificate 12",
        },
        {
            imgSrc: "Certifications/Certificate13.jpg",
            imgAlt: "Certificate 13",
        },
        {
            imgSrc: "Certifications/Certificate14.jpeg",
            imgAlt: "Certificate 14",
        },
        {
            imgSrc: "Certifications/Certificate15.jpg",
            imgAlt: "Certificate 15",
        },
    ],
    badges: [
        {
            imgSrc: 'Certifications/Badge1.png',
            imgAlt: 'Badge 1',
        },
        {
            imgSrc: 'Certifications/Badge2.png',
            imgAlt: 'Badge 2',
        },
        {
            imgSrc: 'Certifications/Badge3.png',
            imgAlt: 'Badge 3',
        },
        {
            imgSrc: 'Certifications/Badge4.png',
            imgAlt: 'Badge 4',
        },
        {
            imgSrc: 'Certifications/Badge5.png',
            imgAlt: 'Badge 5',
        },
        {
            imgSrc: 'Certifications/Badge6.png',
            imgAlt: 'Badge 6',
        },
        {
            imgSrc: 'Certifications/Badge7.png',
            imgAlt: 'Badge 7',
        },
        {
            imgSrc: 'Certifications/Badge8.png',
            imgAlt: 'Badge 8',
        },
        {
            imgSrc: 'Certifications/Badge9.png',
            imgAlt: 'Badge 9',
        },
        {
            imgSrc: 'Certifications/Badge10.png',
            imgAlt: 'Badge 10',
        },
        {
            imgSrc: 'Certifications/Badge11.png',
            imgAlt: 'Badge 11',
        },
        {
            imgSrc: 'Certifications/Badge12.png',
            imgAlt: 'Badge 12',
        },
        {
            imgSrc: 'Certifications/Badge13.png',
            imgAlt: 'Badge 13',
        },
    ],
    // Social Links
    social: [
        {
            name: "GitHub",
            url: "https://github.com/krishnasinghprojects",
            imgSrc: "https://img.icons8.com/?size=100&id=D5XsEXNbhkMI&format=png&color=000000",
            alt: "GitHub",
            width: 40,
        },
        {
            name: "LinkedIn",
            url: "https://www.linkedin.com/in/krishnasinghprojects",
            imgSrc: "https://img.icons8.com/?size=100&id=xuvGCOXi8Wyg&format=png&color=000000",
            alt: "LinkedIn",
            width: 40,
        },
        {
            name: "X",
            url: "https://x.com/krishnasingh_28",
            imgSrc: "https://img.icons8.com/?size=100&id=bG29Ckcdp6YP&format=png&color=000000",
            alt: "X",
            width: 40,
        },
        {
            name: "Instagram",
            url: "https://www.instagram.com/krishnasinghprojects",
            imgSrc: "https://img.icons8.com/?size=100&id=Xy10Jcu1L2Su&format=png&color=000000",
            alt: "Instagram",
            width: 40,
        },
        {
            name: "Discord",
            url: "https://discordapp.com/users/1351651268761882644",
            imgSrc: "https://img.icons8.com/?size=100&id=30998&format=png&color=000000",
            alt: "Discord",
            width: 40,
        },
    ],

    // Skills Section - Organized by Categories
    skills: {
        "Programming Languages": [
            {
                name: "JavaScript",
                imgSrc: "https://img.icons8.com/?size=100&id=YX2eDFImIaWh&format=png&color=000000",
                alt: "JavaScript",
            },
            {
                name: "TypeScript",
                imgSrc: "https://img.icons8.com/?size=100&id=Xf1sHBmY73hA&format=png&color=000000",
                alt: "TypeScript",
            },
            {
                name: "Python",
                imgSrc: "https://img.icons8.com/?size=100&id=13441&format=png&color=000000",
                alt: "Python",
            },
            {
                name: "C",
                imgSrc: "https://img.icons8.com/?size=100&id=40670&format=png&color=000000",
                alt: "C",
            },
            {
                name: "Java",
                imgSrc: "https://img.icons8.com/?size=100&id=13679&format=png&color=000000",
                alt: "Java",
            },
            {
                name: "Kotlin",
                imgSrc: "https://img.icons8.com/?size=100&id=ZoxjA0jZDdFZ&format=png&color=000000",
                alt: "Kotlin",
            },
            {
                name: "C++",
                imgSrc: "https://img.icons8.com/?size=100&id=40669&format=png&color=000000",
                alt: "C++",
            },
        ],
        "Full Stack Development": [
            {
                name: "HTML",
                imgSrc: "https://img.icons8.com/?size=100&id=20909&format=png&color=000000",
                alt: "HTML",
            },
            {
                name: "CSS",
                imgSrc: "https://img.icons8.com/?size=100&id=21278&format=png&color=000000",
                alt: "CSS",
            },
            {
                name: "React",
                imgSrc: "https://img.icons8.com/?size=100&id=123603&format=png&color=000000",
                alt: "React",
            },
            {
                name: "Next JS",
                imgSrc: "https://img.icons8.com/?size=100&id=r2OarXWQc7B6&format=png&color=000000",
                alt: "Next JS",
            },
            {
                name: "Tailwind CSS",
                imgSrc: "https://img.icons8.com/?size=100&id=CIAZz2CYc6Kc&format=png&color=000000",
                alt: "Tailwind CSS",
            },
            {
                name: "Node JS",
                imgSrc: "https://img.icons8.com/?size=100&id=54087&format=png&color=000000",
                alt: "Node JS",
            },
            {
                name: "Express JS",
                imgSrc: "https://img.icons8.com/?size=100&id=PZQVBAxaueDJ&format=png&color=000000",
                alt: "Express JS",
            },
            {
                name: "Mongo DB",
                imgSrc: "https://img.icons8.com/?size=100&id=bosfpvRzNOG8&format=png&color=000000",
                alt: "Mongo DB",
            },
            {
                name: "React Native",
                imgSrc: "https://img.icons8.com/?size=100&id=t4YbEbA834uH&format=png&color=000000",
                alt: "React Native",
            },
            {
                name: "Expo",
                imgSrc: "https://img.icons8.com/?size=100&id=GaRO0SragvjM&format=png&color=000000",
                alt: "Expo",
            },
        ],
        "Tools & Technologies": [
            {
                name: "Git",
                imgSrc: "https://img.icons8.com/?size=100&id=20906&format=png&color=000000",
                alt: "Git",
            },
            {
                name: "GitHub",
                imgSrc: "https://img.icons8.com/?size=100&id=62856&format=png&color=000000",
                alt: "GitHub",
            },
            {
                name: "Docker",
                imgSrc: "https://img.icons8.com/?size=100&id=cdYUlRaag9G9&format=png&color=000000",
                alt: "Docker",
            },
            {
                name: "N8N",
                imgSrc: "Icons/N8N.png",
                alt: "N8N",
            },
            {
                name: "Vite",
                imgSrc: "https://img.icons8.com/?size=100&id=dJjTWMogzFzg&format=png&color=000000",
                alt: "Vite",
            },
            {
                name: "Streamlit",
                imgSrc: "https://img.icons8.com/?size=100&id=Rffi8qeb2fK5&format=png&color=000000",
                alt: "Streamlit",
            },
            {
                name: "FastAPI",
                imgSrc: "Icons/FastAPI.png",
                alt: "FastAPI",
            },
            {
                name: "Canva",
                imgSrc: "https://img.icons8.com/?size=100&id=iWw83PVcBpLw&format=png&color=000000",
                alt: "Canva",
            },
            {
                name: "Postman",
                imgSrc: "https://img.icons8.com/?size=100&id=EPbEfEa7o8CB&format=png&color=000000",
                alt: "Postman",
            },
        ],
        "MS Office": [
            {
                name: "MS Word",
                imgSrc: "https://img.icons8.com/?size=100&id=13674&format=png&color=000000",
                alt: "MS Word",
            },
            {
                name: "MS PowerPoint",
                imgSrc: "https://img.icons8.com/?size=100&id=81726&format=png&color=000000",
                alt: "MS PowerPoint",
            },
            {
                name: "MS Excel",
                imgSrc: "https://img.icons8.com/?size=100&id=13654&format=png&color=000000",
                alt: "MS Excel",
            },
        ],
        "AWS": [
            {
                name: "IAM",
                imgSrc: "Icons/IAM.svg",
                alt: "IAM",
            },
            {
                name: "Lambda",
                imgSrc: "Icons/Lambda.svg",
                alt: "Lambda",
            },
            {
                name: "EC2",
                imgSrc: "Icons/EC2.svg",
                alt: "EC2",
            },
            {
                name: "S3",
                imgSrc: "Icons/S3.svg",
                alt: "S3",
            },
        ],
        "AI Integrations": [
            {
                name: "Gemini SDK",
                imgSrc: "https://img.icons8.com/?size=100&id=rnK88i9FvAFO&format=png&color=000000",
                alt: "Gemini SDK",
            },
            {
                name: "ChatGPT SDK",
                imgSrc: "https://img.icons8.com/?size=100&id=ka3InxFU3QZa&format=png&color=000000",
                alt: "ChatGPT SDK",
            },
            {
                name: "Ollama SDK",
                imgSrc: "Icons/Ollama.png",
                alt: "Ollama SDK",
            },
            {
                name: "Fine Tuning And RAG",
                imgSrc: "https://img.icons8.com/?size=100&id=48174&format=png&color=000000",
                alt: "Fine Tuning And RAG",
            },
            {
                name: "MCP",
                imgSrc: "Icons/MCP.jpg",
                alt: "MCP",
            },
        ],
    },

    //Education Details
    education: [
        {
            period: "2024-2028",
            degree: "Bachelor of Technology",
            institution: "Babu Banarasi Das University",
            percentage: null
        },
        {
            period: "2022-2024",
            degree: "Intermediate",
            institution: "City Convent School",
            percentage: 91.4
        },
        {
            period: "2020-2022",
            degree: "High School",
            institution: "City Convent School",
            percentage: 90.4
        },
    ],

    //Contact Details
    contact: {
        title: "Contact Me",
        info: [
            { text: "Name: Krishna Singh" },
            {
                text: "Phone: +91 90263 16048",
                url: "tel:+919026316048"
            },
            {
                text: "Email: krishnasinghprojects@gmail.com",
                url: "mailto:krishnasinghprojects@gmail.com"
            },
            {
                text: "LinkedIn: krishnasinghprojects",
                url: "https://www.linkedin.com/in/krishnasinghprojects"
            }
        ],
        button: {
            text: "Send an Email",
            url: "mailto:krishnasinghprojects@gmail.com"
        }
    },

    //Footer Details
    footer: {
        copyrightText: `© 2025 Krishna Singh. All Rights Reserved.`
    }
};







// -- Title Details --
document.getElementById("titleTop").innerText = details.titleTop;

// -- Navbar Details --
document.getElementById("navbar_name").innerText = details.navbar.navbar_name;
document.getElementById("name_abbrivation").innerText = details.navbar.name_abbrivation;

// Set Resume Link
const resumeLink = document.getElementById("resume_link");
resumeLink.innerText = details.navbar.resume.text;
resumeLink.href = details.navbar.resume.url;

// -- About Details --
document.getElementById("greeting").innerText = details.about.greeting;
document.getElementById("title").innerText = details.about.title;
document.getElementById("description").innerText = details.about.description;

// Set Download CV Link
const downloadCVLink = document.getElementById("download_cv");
downloadCVLink.innerText = details.about.downloadCV.text;
downloadCVLink.href = details.about.downloadCV.url;

// -- Dynamic Project Cards --
// Ensure your HTML contains a container element with class "projects-container"
const projectsContainer = document.querySelector(".projects-container");
projectsContainer.innerHTML = ""; // Clear existing content



details.projects.forEach((project, index) => {
    // Create the card container
    const projectCard = document.createElement("div");
    projectCard.classList.add("project-card");
    projectCard.style.cursor = "pointer";

    // Project Title
    const projectTitle = document.createElement("h1");
    projectTitle.innerText = project.name;
    projectCard.appendChild(projectTitle);

    // Project image (clickable for blog post)
    const projectImageDiv = document.createElement("div");
    projectImageDiv.classList.add("project-image");

    const projectImage = document.createElement("img");
    projectImage.src = project.imgSrc;
    projectImage.alt = project.imgAlt;

    projectImageDiv.appendChild(projectImage);
    projectCard.appendChild(projectImageDiv);

    // Technology logos section
    const projectTechDiv = document.createElement("div");
    projectTechDiv.classList.add("project-tech");

    const techLogosDiv = document.createElement("div");
    techLogosDiv.classList.add("tech-logos");

    project.tech.forEach((tech) => {
        const techImg = document.createElement("img");
        techImg.src = tech.imgSrc;
        techImg.alt = tech.alt;
        techImg.classList.add("tech-logo");
        techLogosDiv.appendChild(techImg);
    });

    projectTechDiv.appendChild(techLogosDiv);
    projectCard.appendChild(projectTechDiv);

    // Project description
    const projectDesc = document.createElement("p");
    projectDesc.classList.add("project-desc");
    projectDesc.innerText = project.description;
    projectCard.appendChild(projectDesc);

    // Add blog indicator for all projects (will try to load markdown)
    const blogIndicator = document.createElement("div");
    blogIndicator.classList.add("blog-indicator");
    blogIndicator.innerHTML = "Read More";
    projectCard.appendChild(blogIndicator);

    // Add click event for blog post (always try to load markdown)
    projectCard.addEventListener('click', () => {
        openBlogPost(project);
    });

    // Append the card to the projects container
    projectsContainer.appendChild(projectCard);
});

// Blog Post Functions - Updated for Markdown
async function openBlogPost(project) {
    const modal = document.getElementById('blogModal');
    const title = document.getElementById('blogTitle');
    const subtitle = document.getElementById('blogSubtitle');
    const content = document.getElementById('blogContent');

    // Show loading state
    title.textContent = 'Loading...';
    subtitle.textContent = '';
    content.innerHTML = '<p>Loading blog content...</p>';

    // Show modal with animation
    modal.style.display = 'block';
    modal.classList.remove('hide');
    setTimeout(() => {
        modal.classList.add('show');
    }, 10);

    // Store current scroll position
    const scrollY = window.scrollY;
    document.body.dataset.scrollY = scrollY;

    // Prevent background scrolling
    document.body.style.overflow = 'hidden';
    document.body.classList.add('modal-open');

    try {
        // Load and render markdown content
        const { html, metadata } = await window.blogRenderer.renderBlogWithMetadata(project.name);
        
        // Update modal content
        title.textContent = metadata.title;
        subtitle.textContent = metadata.subtitle;
        content.innerHTML = html;
        
        // Add date if available
        if (metadata.date) {
            const dateElement = document.createElement('p');
            dateElement.className = 'blog-date';
            dateElement.textContent = `Published: ${metadata.date}`;
            content.insertBefore(dateElement, content.firstChild);
        }
    } catch (error) {
        console.error('Error loading blog content:', error);
        title.textContent = project.name;
        subtitle.textContent = 'Blog Post';
        content.innerHTML = `
            <p>Sorry, the blog content for this project is not available yet.</p>
            <p>Please check back later or visit the project directly:</p>
            <a href="${project.url}" target="_blank" class="cta-button">View Project</a>
        `;
    }
}

// Safety function to restore scrolling
function ensureScrollingRestored() {
    const modal = document.getElementById('blogModal');
    if (!modal || modal.style.display === 'none' || !modal.classList.contains('show')) {
        forceRestoreScrolling();
    }
}

// Force restore scrolling function
function forceRestoreScrolling() {
    // Restore scrolling
    document.body.style.overflow = '';
    document.body.classList.remove('modal-open');

    // Restore scroll position
    const scrollY = document.body.dataset.scrollY;
    if (scrollY) {
        window.scrollTo(0, parseInt(scrollY));
        delete document.body.dataset.scrollY;
    }
}

function closeBlogModal() {
    const modal = document.getElementById('blogModal');

    modal.classList.remove('show');
    modal.classList.add('hide');

    setTimeout(() => {
        modal.style.display = 'none';
        modal.classList.remove('hide');
        // Force restore scrolling after animation completes
        forceRestoreScrolling();
    }, 400); // Match the CSS transition duration
}

// Markdown rendering is now handled by the BlogRenderer class

// Close modal functionality
document.addEventListener('DOMContentLoaded', function () {
    const modal = document.getElementById('blogModal');
    const closeBtn = document.querySelector('.blog-close');

    // Close when clicking the X button
    closeBtn.addEventListener('click', function () {
        closeBlogModal();
    });

    // Close when clicking outside the modal
    window.addEventListener('click', function (event) {
        if (event.target === modal) {
            closeBlogModal();
        }
    });

    // Close with Escape key
    document.addEventListener('keydown', function (event) {
        if (event.key === 'Escape' && modal.classList.contains('show')) {
            closeBlogModal();
        }
    });

    // Safety check to restore scrolling on window focus
    window.addEventListener('focus', ensureScrollingRestored);

    // Safety check on page visibility change
    document.addEventListener('visibilitychange', function () {
        if (!document.hidden) {
            ensureScrollingRestored();
        }
    });

    // Emergency scroll restore on any click outside modal when it should be closed
    document.addEventListener('click', function (e) {
        const modal = document.getElementById('blogModal');
        if (modal && modal.style.display === 'none' && document.body.classList.contains('modal-open')) {
            forceRestoreScrolling();
        }
    });
});

details.certificates.forEach((certificate) => {
    // Create the image element
    const certImage = document.createElement("img");
    certImage.src = certificate.imgSrc;
    certImage.alt = certificate.alt || "Certificate";
    certImage.classList.add("certificate-image");

    const certContainer = document.querySelector(".certificates-container");

    // Add image directly to container
    certContainer.appendChild(certImage);
});
details.badges.forEach((badge) => {
    // Create the image element
    const badgeImage = document.createElement("img");
    badgeImage.src = badge.imgSrc;
    badgeImage.alt = badge.alt || "Badge";
    badgeImage.classList.add("badge");

    // Append to the badge container
    const badgeContainer = document.querySelector(".badge-container");
    badgeContainer.appendChild(badgeImage);
});



// -- Dynamic Social Links --
const socialLinksElement = document.getElementById("social_links");
socialLinksElement.innerHTML = "";
details.social.forEach((social) => {
    const a = document.createElement("a");
    a.href = social.url;
    a.target = "_blank";

    const img = document.createElement("img");
    img.src = social.imgSrc;
    img.alt = social.alt;
    img.width = social.width;

    a.appendChild(img);
    socialLinksElement.appendChild(a);
});

// -- Dynamic Skills Section --
const skillsContainer = document.getElementById("skills_container");
skillsContainer.innerHTML = "";

// Create two rows for the layout
const firstRow = document.createElement("div");
firstRow.classList.add("skills-row", "skills-row-first");

const secondRow = document.createElement("div");
secondRow.classList.add("skills-row", "skills-row-second");

// Get all categories and distribute them between rows
const categories = Object.keys(details.skills);

categories.forEach((category, index) => {
    // Create category container
    const categoryContainer = document.createElement("div");
    categoryContainer.classList.add("skill-category");

    // Create category title
    const categoryTitle = document.createElement("h2");
    categoryTitle.classList.add("skill-category-title");
    categoryTitle.innerText = category;
    categoryContainer.appendChild(categoryTitle);

    // Create skills grid for this category
    const skillsGrid = document.createElement("div");
    skillsGrid.classList.add("skills-grid");

    // Add skills to the grid
    details.skills[category].forEach((skill) => {
        const skillCard = document.createElement("div");
        skillCard.classList.add("skill-card");

        const img = document.createElement("img");
        img.src = skill.imgSrc;
        img.alt = skill.alt;
        img.style.borderRadius = "5px";

        const p = document.createElement("p");
        p.innerText = skill.name;

        skillCard.appendChild(img);
        skillCard.appendChild(p);
        skillsGrid.appendChild(skillCard);
    });

    categoryContainer.appendChild(skillsGrid);

    // First 3 categories go to first row, remaining go to second row
    if (index < 3) {
        firstRow.appendChild(categoryContainer);
    } else {
        secondRow.appendChild(categoryContainer);
    }
});

// Append rows to the main container
skillsContainer.appendChild(firstRow);
skillsContainer.appendChild(secondRow);


// Function to Create Timeline Elements
function createEmptyDiv() {
    const div = document.createElement('div');
    div.className = 'timeline-empty';
    return div;
}

function createMiddleDiv() {
    const middleDiv = document.createElement('div');
    middleDiv.className = 'timeline-middle';
    const circleDiv = document.createElement('div');
    circleDiv.className = 'timeline-circle';
    middleDiv.appendChild(circleDiv);
    return middleDiv;
}

function createContentDiv(edu) {
    const contentDiv = document.createElement('div');
    contentDiv.className = 'timeline-component timeline-content';
    contentDiv.innerHTML = `
      <h3>${edu.period}</h3>
      <h1>${edu.degree}</h1>
      <p>${edu.institution}</p>
      <p>${edu.percentage ? 'Percentage: ' + edu.percentage + '%' : ''}</p>
    `;
    return contentDiv;
}

// Populate the Timeline
const timeline = document.querySelector('.timeline');
timeline.innerHTML = ''; // Clear existing content

details.education.forEach((edu, index) => {
    if (index % 2 === 0) {
        // Right-aligned entry (empty, middle, content)
        timeline.appendChild(createEmptyDiv());
        timeline.appendChild(createMiddleDiv());
        timeline.appendChild(createContentDiv(edu));
    } else {
        // Left-aligned entry (content, middle, empty)
        timeline.appendChild(createContentDiv(edu));
        timeline.appendChild(createMiddleDiv());
        timeline.appendChild(createEmptyDiv());
    }
});

// Add Closing Elements to End the Timeline
const middleSpacer = document.createElement('div');
middleSpacer.className = 'timeline-middle';
timeline.appendChild(middleSpacer);

const middleEnd = document.createElement('div');
middleEnd.className = 'timeline-middle';
const endLine = document.createElement('div');
endLine.className = 'timeline-end';
middleEnd.appendChild(endLine);
timeline.appendChild(middleEnd);

timeline.appendChild(createEmptyDiv());


// Generate Contact Section Dynamically
const contactSection = document.getElementById("contact");
contactSection.innerHTML = `
  <div class="contact-container">
    <h1>${details.contact.title}</h1>
    ${details.contact.info.map(item => `
      <p>
        <i class="${item.icon}"></i>
        ${item.url ? `
          <a href="${item.url}" ${item.url.includes('http') ? 'target="_blank"' : ''}>
            ${item.text}
          </a>
        ` : item.text}
      </p>
    `).join('')}
    <a class="contact-btn" href="${details.contact.button.url}">
      ${details.contact.button.text}
    </a>
  </div>
`;

const footer = document.querySelector('footer');
footer.innerHTML = `<p>${details.footer.copyrightText}</p>`;


const projectLinksElement = document.getElementById("project_links");
projectLinksElement.innerHTML = "";
details.projects.forEach(project => {
    const li = document.createElement("ul");
    const a = document.createElement("a");
    a.href = project.url;
    a.target = "_blank";
    a.innerText = project.name;
    li.appendChild(a);
    projectLinksElement.appendChild(li);
});